(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Home"],{"013c":function(e,t,a){},"0481":function(e,t,a){"use strict";var n=a("23e7"),r=a("a2bf"),i=a("7b0b"),o=a("50c4"),s=a("a691"),c=a("65f0");n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),a=o(t.length),n=c(t,0);return n.length=r(n,t,t,a,0,void 0===e?1:s(e)),n}})},"07ac":function(e,t,a){var n=a("23e7"),r=a("6f53").values;n({target:"Object",stat:!0},{values:function(e){return r(e)}})},"09a0":function(e,t,a){"use strict";var n=a("013c"),r=a.n(n);r.a},"11b6":function(e,t,a){},1393:function(e,t,a){"use strict";var n=a("e0a7"),r=a.n(n);r.a},"1e64":function(e,t,a){},"26c5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAAyAgMAAAD+cKvvAAAADFBMVEUAkf/t9/8Wm/9ZuP+v+dC9AAAAN0lEQVQ4y2OIYyAAuAMYEgipYZjAcICgGgOGBoJqFBhGwSgYBaNgFAxvQExdQEydQkzdREQdBwDLFgZzykY6agAAAABJRU5ErkJggg=="},"32e3":function(e,t,a){},4069:function(e,t,a){var n=a("44d2");n("flat")},"53db":function(e,t,a){"use strict";var n=a("11b6"),r=a.n(n);r.a},"6f73":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyBAMAAABol3KsAAAAFVBMVEUSGiYsKyGnfw22iQrgpgPnqgL3tQAhuIdpAAAAT0lEQVRIx2NgVEkjHzgJMIimUQICGdQMGcgHwkkMbgIU6GdMYUhjoASkjeof1T+qf1T/qP5R/aP6R/WP6h/VT5J+StuvlLafKW2/U9h/AADRCoXhZWc1+gAAAABJRU5ErkJggg=="},"782c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyAgMAAADn14cMAAAADFBMVEX3tQD/+u34vRb6z1ns0aqXAAAANklEQVQ4y2OIY8AHuAMYEvAqYJjAcAC/AgOGBvwKFBhGwSgYBaNgFNAaECyKCRbmBKsDQhUKAOSzBnOsLVHVAAAAAElFTkSuQmCC"},"7ea1":function(e,t,a){},"857a":function(e,t,a){var n=a("1d80"),r=/"/g;e.exports=function(e,t,a,i){var o=String(n(e)),s="<"+t;return""!==a&&(s+=" "+a+'="'+String(i).replace(r,"&quot;")+'"'),s+">"+o+"</"+t+">"}},8892:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAAyBAMAAABxMF5PAAAAD1BMVEUAkf/////j8/9Utv8Wm/9Wo1qFAAAAUUlEQVRIx+3XQQ2AMBQE0UnAQOugAQGkqQAC/j0hgcP+44yAd96lL9LewUnewzVb2rFxj1jpO7Q8VFRUVFRUVFRUVFR+lZoFX/Mmap5Nycv6AApq0EF1hAk/AAAAAElFTkSuQmCC"},9911:function(e,t,a){"use strict";var n=a("23e7"),r=a("857a"),i=a("af03");n({target:"String",proto:!0,forced:i("link")},{link:function(e){return r(this,"a","href",e)}})},"9e7f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAAyAgMAAAD+cKvvAAAADFBMVEXY2Nj+/v7o6Oje3t4eKJ5tAAAA1UlEQVQ4y+2VsQ3CMBBFP3EViSAaehr3NOki4RGM5ANHoUhNxwYwRMIOEQUjeAmYIy0dTkeR5FyClC/dVU93X7J8HwUYLTQUx2CJC8us4Vhmg0n/qhai3QKZ8M+c9SORwUyvgDoufetnxP6LeQ3MIcfOiUgFMCXvJ7e8H2v4XbYOYOSV9WPTM+8n2fG7olxLh9soA+qYw6gfPLVUwiRjfiB1XLyP8am5103j+plUJ0RlTGQqItXPJBoVOc9YzwwfHfHo+tyXm37mLyokC0IyJSSbAjLuAxkjQ49T/PsOAAAAAElFTkSuQmCC"},a2bf:function(e,t,a){"use strict";var n=a("e8b5"),r=a("50c4"),i=a("0366"),o=function(e,t,a,s,c,l,u,m){var g,h=c,d=0,b=!!u&&i(u,m,3);while(d<s){if(d in a){if(g=b?b(a[d],d,t):a[d],l>0&&n(g))h=o(e,t,g,r(g.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=g}h++}d++}return h};e.exports=o},af03:function(e,t,a){var n=a("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b3d7:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"TicketChain",(function(){return R})),a.d(n,"TotalBoard",(function(){return U})),a.d(n,"TotalChart",(function(){return X})),a.d(n,"BlockTable",(function(){return ne})),a.d(n,"MessageTable",(function(){return le}));var r,i,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-con bottom-10"},[!e.isMobile&&e.atIndex?a("ticket-chain",{on:{"hash-change":e.handleHashChange,"height-change":e.handleHeightChange}}):e._e(),a("div",{staticClass:"board-con bottom-20"},[a("total-board"),a("total-chart")],1),a("div",{staticClass:"block-message-table bottom-20"},[a("block-table"),a("message-table")],1)],1)},s=[],c=a("5530"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ticket-chain bottom-20"},[a("div",{staticClass:"chart-con"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"chart",staticClass:"chart",attrs:{"element-loading-background":"var(--board-bg-color)"}}),a("div",{staticClass:"block-type",style:e.typeStyle},[e.atIndex?e._e():a("div",{staticClass:"arrow left",on:{click:e.goLeft}},[a("span",{staticClass:"el-icon-arrow-left"})]),a("div",{staticClass:"type-list"},[a("span",[a("i",{staticClass:"ticket"}),e._v(" "+e._s(e.$t("tipset.nodeType")[0])+" ")]),a("span",[a("i",{staticClass:"normal"}),e._v(" "+e._s(e.$t("tipset.nodeType")[1])+" ")])]),e.atIndex?e._e():a("div",{staticClass:"arrow right",on:{click:e.goRight}},[a("span",{staticClass:"el-icon-arrow-right"})])])])])},u=[],m=(a("4de4"),a("0481"),a("d81d"),a("4069"),a("b0c0"),a("a9e3"),a("dca8"),a("9911"),a("96cf"),a("1da1")),g=a("d282"),h=a("3191"),d=a("2f62"),b=a("9e7f"),p=a.n(b),f=a("26c5"),v=a.n(f),A=a("8892"),k=a.n(A),T=a("782c"),w=a.n(T),x=a("6f73"),y=a.n(x),C=a("c414"),j=a.n(C),O={name:"TipsetChain",data:function(){return{tipsets:[],startHeight:0,loading:!1,typeStyle:{marginTop:"-160px"},jumpSafeHeight:0}},computed:Object(c["a"])({},Object(d["c"])(["defaultHeight"]),{normalSrc:function(){return"light"===this.theme?k.a:y.a},ticketSrc:function(){return"light"===this.theme?v.a:w.a},activeSrc:function(){return"light"===this.theme?w.a:v.a},nullSrc:function(){return"light"===this.theme?p.a:j.a}}),watch:{height:function(e){e<=this.startHeight&&e>this.startHeight-15||0==e?this.drawChart():this.getTipset(e)},defaultHeight:{handler:function(e){var t=this.$route.query,a=t.height,n=t.hash,r=t.jumpHeight;(a||n||r)&&!this.atIndex||0!=e&&(this.startHeight=e,this.getTipset(e))}},theme:function(){this.drawChart()}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$chart.init(e.$refs.chart),t.next=3,Object(h["b"])(1);case 3:n=t.sent,i=n.block_header[0].block_header.height,a=i,e.jumpSafeHeight=i,e.getTipset(a),r.on("click",(function(t){e.goTo("tipset",{query:{hash:t.data.name}}),t.data.originData&&e.goTo("tipset",{query:{hash:t.data.name}}),"markLine"===t.componentType&&(console.log("click2:---"),e.$emit("height-change",String(e.startHeight-t.value)))}));case 9:case"end":return t.stop()}}),t)})))()},methods:{getTipset:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!=e){a.next=2;break}return a.abrupt("return");case 2:return e<15&&(e=15),a.prev=3,t.loading=!0,a.next=7,Object(g["a"])(0);case 7:n=a.sent,t.loading=!1,t.startHeight=e,t.tipsets=Object.freeze(n.data.resp.blockList),t.$emit("get-blocks",n.data.resp.blockList),t.drawChart(),a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](3),t.loading=!1;case 18:case"end":return a.stop()}}),a,null,[[3,15]])})))()},drawChart:function(){var e=this,t=this.rate,a=this.chartTheme.tipset,n=a.ticketNode,i=a.link,o=a.seriesMarkLine,s=a.seriesMarkLineLabel,c=this.tipsets.map((function(a,r){var i={name:a.hash,value:[r,5],symbol:"image://".concat(e.ticketSrc),symbolSize:[56*t,17*t],symbolOffset:[10*t,0],label:{color:n,fontSize:12*t,formatter:function(){return a.hash.substring(0,6)}}},o={name:"".concat(a.hash,"-t"),value:[r,10],symbol:"image://".concat(e.normalSrc),symbolSize:[56*t,17*t],symbolOffset:[10*t,0],label:{color:n,fontSize:12*t,formatter:function(){return a.txs}}};return[i,o]})).flat();console.log("draw1....");var l=this.tipsets.filter((function(e,t,a){return t<a.length-1})).map((function(t,a){return{source:t.hash,target:e.tipsets[a+1].hash,lineStyle:{normal:{color:i}}}}));console.log("draw2....");var u=this.tipsets.map((function(e,t){return{xAxis:t,label:{show:!0,formatter:function(){return e.height}}}}));console.log("draw3....");var m={xAxis:{show:!1,boundaryGap:!1,min:-1,max:23,axisLine:{show:!1},axisTick:{show:!0,alignWithLabel:!0},splitLine:{show:!1}},yAxis:{min:0,max:70,show:!1,type:"value",inverse:!0},grid:{top:40*t,left:-40,right:0,bottom:0},series:[{type:"graph",layout:"none",id:"a",coordinateSystem:"cartesian2d",edgeSymbol:["","arrow"],label:{show:!0,position:"inside"},lineStyle:{normal:{width:2,shadowColor:"none"}},markLine:{symbol:["none","none"],silent:!1,lineStyle:{color:o,width:1,type:"solid"},data:u,label:{position:"start",color:s,fontSize:12*t}},data:c,links:l,z:0,zlevel:4}]};console.log("draw4....",m);try{r.setOption(m)}catch(g){console.log("setOption: ",g)}console.log("dra5w....")},goRight:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Math.max(e.startHeight-15,15),t.next=3,e.getTipset(a);case 3:e.goTo("tipset",{query:{jumpHeight:a}});case 4:case"end":return t.stop()}}),t)})))()},goLeft:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=0,e.startHeight!==e.jumpSafeHeight){t.next=3;break}return t.abrupt("return");case 3:if(0!==e.jumpSafeHeight){t.next=8;break}return t.next=6,Object(h["b"])(1);case 6:n=t.sent,e.jumpSafeHeight=Number(n.block_header[0].block_header.height);case 8:return a=Number(e.startHeight)+15>=e.jumpSafeHeight?e.jumpSafeHeight:Number(e.startHeight)+15,t.next=11,e.getTipset(a);case 11:e.goTo("tipset",{query:{jumpHeight:a}});case 12:case"end":return t.stop()}}),t)})))()}}},S=O,B=(a("1393"),a("2877")),M=Object(B["a"])(S,l,u,!1,null,"358932c4",null),R=M.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"total-board bottom-10",attrs:{"element-loading-background":"var(--board-bg-color)"}},e._l(e.info,(function(t){return a("div",{key:t.key,staticClass:"info-item"},[a("div",[e._v(" "+e._s(e.$t("home.board."+t.labelKey+".label"))+" "),e.isMobile?e._e():a("el-popover",{attrs:{placement:"bottom-start",width:"200",trigger:"hover",content:e.$t("home.board."+t.labelKey+".tips")}},[a("i",{staticClass:"el-icon-warning-outline",staticStyle:{"margin-left":"3px"},attrs:{slot:"reference"},slot:"reference"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v(e._s((t.value||"")+" "+t.unit))])])})),0)},_=[],H=(a("b680"),{name:"TotalBoard",data:function(){return{info:[{labelKey:"height",key:"block_num",class:"blue",unit:""},{labelKey:"validator",key:"validatorLen",class:"blue",unit:"nums"},{labelKey:"tx_speed",key:"tx_speed",class:"purple",unit:""},{labelKey:"avgTime",key:"avgTime",class:"purple",unit:"s"}],timer:null,loading:!1}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getBoardInfo();case 3:e.loading=!1,e.timer=setInterval((function(){e.getBoardInfo()}),3e4);case 5:case"end":return t.stop()}}),t)})))()},methods:Object(c["a"])({},Object(d["b"])(["setHeight","increaseLoadCount"]),{getBoardInfo:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g["i"])();case 3:a=t.sent,console.log("info:--",a.data.resp),n=a.data.resp,e.loading=!1,e.info=e.info.map((function(t){return Object(c["a"])({},t,{value:e.formatNumber("avg_gas_price"===t.key?n[t.key].toFixed(2):n[t.key])})})),e.setHeight(n.block_num),e.increaseLoadCount(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}),beforeDestroy:function(){clearInterval(this.timer)}}),E=H,I=(a("fc0c"),Object(B["a"])(E,L,_,!1,null,"d725f734",null)),U=I.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"total-chart"},[a("block-time-chart",{attrs:{time:e.time}})],1)},K=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"block-time-chart",attrs:{"element-loading-background":"var(--board-bg-color)"}},[a("div",{staticClass:"chart-top"},[a("div",{staticClass:"avg top-30"},[a("div",[e._v(" "+e._s(e.$t("home.blockTime.label"))+" "),a("el-popover",{attrs:{placement:"bottom-start",width:"200",trigger:"hover",content:e.$t("home.blockTime.tips")}},[a("i",{staticClass:"el-icon-warning-outline",attrs:{slot:"reference"},slot:"reference"})])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v(e._s(e.avgTime)+" s")])]),a("div",{ref:"time",staticClass:"chart-con"})]),a("div",{staticClass:"min-max bottom-10"},[a("div",{staticClass:"min"},[a("span",[e._v(e._s(e.$t("home.blockTime.min")))]),a("span",[e._v(e._s(e.min)+" s")])]),a("div",{staticClass:"max"},[a("span",[e._v(e._s(e.$t("home.blockTime.max")))]),a("span",[e._v(e._s(e.max)+" s")])])])])},Q=[],N=(a("99af"),a("5a0c")),F=a.n(N),q={name:"BlockTimeChart",data:function(){return{dataList:[],avgTime:0,min:0,max:0,loading:!1,shouldRespondThemeChange:!0}},methods:{drawTimeChart:function(){var e=this.dataList,t=this.chartTheme.blockTime,a=t.axisLine,n=t.seriesItem,r=t.seriesMarkLine,o=this,s={tooltip:{formatter:function(e){var t=o.$t("chart.blockTime",{value:e.value,name:e.name});return t}},grid:{left:0,top:0,right:0,bottom:10},xAxis:{data:[],axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:a}}},yAxis:{show:!1},series:[{type:"bar",itemStyle:{normal:{color:n}},data:e,markLine:{silent:!0,label:{show:!1},lineStyle:{color:r},symbol:"none",data:[{type:"average"}]}}]};i.setOption(s)},getBlockTimeData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(g["e"])();case 4:a=t.sent,n=a.data.resp,console.log("res:blocktime:",n),e.loading=!1,r=n.data,i=n.min,o=n.max,s=n.avg_blocktime,c=r.map((function(t){var a=F()(1e3*t.time).add(1,"hour").format("HH:mm");return{name:"".concat(e.formatTimeByStr(1e3*t.time,"MMM Do YYYY HH:mm"),"-").concat(a),value:t.block_time}})),e.dataList=Object.freeze(c),e.avgTime=Math.floor(s),e.min=i,e.max=o,e.drawTimeChart(),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))()}},props:{time:{type:Object,default:function(){return{}}}},mounted:function(){i=this.$chart.init(this.$refs.time),this.getBlockTimeData()},watch:{latestBlockHeight:function(){1!==this.loadCount&&this.getBlockTimeData()},theme:function(){this.drawTimeChart()}}},Y=q,z=(a("53db"),Object(B["a"])(Y,D,Q,!1,null,"79cbd940",null)),G=z.exports,J={name:"TotalChart",data:function(){return{time:{}}},components:{BlockTimeChart:G},created:function(){var e=Math.floor((new Date).getTime()/1e3);this.time={start_time:e-86400,end_time:e}}},P=J,$=(a("fcf9"),Object(B["a"])(P,V,K,!1,null,"230fd443",null)),X=$.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block-table"},[a("base-table",{attrs:{dataSource:e.blockTable.dataSource,columns:e.blockTable.columns,loadMore:!0,showLoading:e.blockTable.loading,showAppend:e.blockTable.append&&!e.isMobile,"span-map":e.blockTable.heightMap,span:e.blockTable.span,"max-height":e.isMobile?200:400*e.rate,labels:e.$t("home.blockTable.label"),radius:"",stripe:!1},on:{load:e.loadBlockData,"click-append":function(t){return e.goTo("tipset")}}})],1)},W=[],ee=(a("4160"),a("d3b7"),a("07ac"),a("159b"),{name:"BlockTable",data:function(){return{blockTable:{dataSource:[],span:!0,columns:[{key:"height",isLink:!0,target:"tipset"},{key:"hash",isLink:!0,target:"tipset",ellipsis:!0},{key:"time"},{key:"miner",isLink:!0,target:"address/detail",paramKey:"address"}],loadCount:0,loading:!1,append:!1,heightMap:{},timer:null}}},methods:{initBlockTimer:function(){var e=this;this.blockTable.timer=setInterval((function(){e.blockTable.heightMap={};var t={};e.blockTable.dataSource=e.blockTable.dataSource.map((function(a,n){return t[a.height]?t[a.height].span++:t[a.height]={span:1,index:n},Object(c["a"])({},a,{time:e.formatTime(a.originTime,a.current),current:a.current+1e3})})),Object.values(t).forEach((function(t){e.blockTable.heightMap[t.index]=t.span}))}),1e3)},getBlockData:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e>10)){a.next=2;break}return a.abrupt("return");case 2:return t.blockTable.heightMap={},t.blockTable.loading=!0,t.blockTable.span=!1,a.prev=5,a.next=8,Object(g["a"])(0);case 8:return n=a.sent,r={},i=n.data.resp.blockList.map((function(e,a){var n=e.height,i=e.timestamp;r[n]?r[n].span++:r[n]={span:1,index:a};var o=(new Date).getTime(),s=i>o/1e3?o/1e3:i;return{height:t.formatNumber(n),hash:e.hash,time:t.formatTime(s),originTime:s,miner:e.createdby[0],current:o}})),t.blockTable.dataSource=i,Object.values(r).forEach((function(e){t.blockTable.heightMap[e.index]=e.span})),t.blockTable.loading=!1,t.blockTable.span=!0,a.abrupt("return",Promise.resolve());case 18:a.prev=18,a.t0=a["catch"](5),t.blockTable.loading=!1;case 21:case"end":return a.stop()}}),a,null,[[5,18]])})))()},loadBlockData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.blockTable.loading){t.next=2;break}return t.abrupt("return");case 2:if(3!=e.blockTable.loadCount){t.next=7;break}return e.blockTable.append=!0,t.abrupt("return");case 7:return clearInterval(e.blockTable.timer),t.prev=8,e.blockTable.loading=!0,t.next=12,e.getBlockData(10*(e.blockTable.loadCount+1));case 12:e.blockTable.loadCount++,e.blockTable.loading=!1,e.initBlockTimer(),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](8),e.blockTable.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[8,17]])})))()}},watch:{latestBlockHeight:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.loadCount){t.next=2;break}return t.abrupt("return");case 2:return clearInterval(e.blockTable.timer),t.next=5,e.getBlockData(10*e.blockTable.loadCount);case 5:e.initBlockTimer();case 6:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){clearInterval(this.blockTable.timer)},computed:Object(c["a"])({},Object(d["c"])(["rate"]))}),te=ee,ae=(a("f0da"),Object(B["a"])(te,Z,W,!1,null,"c42ecafe",null)),ne=ae.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message-table"},[a("base-table",{attrs:{dataSource:e.messageTable.dataSource,columns:e.messageTable.columns,loadMore:!0,showLoading:e.messageTable.loading,showAppend:e.messageTable.append&&!e.isMobile,"max-height":e.isMobile?200:400*e.rate,labels:e.$t("home.messageTable.label"),radius:""},on:{load:e.loadMessageData,"click-append":function(t){return e.goTo("messageList")}}})],1)},ie=[],oe={name:"MessageTable",data:function(){return{messageTable:{dataSource:[],columns:[{key:"id",target:"message/detail",paramKey:"cid",isLink:!0,ellipsis:!0},{key:"time"},{key:"from",isLink:!0,target:"address/detail",paramKey:"address",ellipsis:!0},{key:"to",isLink:!0,target:"address/detail",paramKey:"address",ellipsis:!0},{key:"value"}],loadCount:0,loading:!1,append:!1,timer:null}}},methods:{initMesTimer:function(){var e=this;this.messageTable.timer=setInterval((function(){e.messageTable.dataSource=e.messageTable.dataSource.map((function(t){return Object(c["a"])({},t,{time:e.formatTime(t.originTime,t.current),current:t.current+1e3})}))}),1e3)},getMessageData:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!(e>30)){a.next=2;break}return a.abrupt("return");case 2:return t.messageTable.loading=!0,a.prev=3,a.next=6,Object(g["k"])(0);case 6:return n=a.sent,r=n.data.resp.txList.map((function(e){var a=e.signer_id,n=e.receiver_id,r=e.value;r||(r=0);var i=(new Date).getTime(),o=e.msgcreate>i/1e3?i/1e3:parseInt(e.timestamp/1e3);return{from:a,to:n,value:t.formatFilNumber(r),time:t.formatTime(o),originTime:o,current:i,id:e.hash}})),t.messageTable.dataSource=r,t.messageTable.loading=!1,a.abrupt("return",Promise.resolve());case 13:a.prev=13,a.t0=a["catch"](3),t.messageTable.loading=!1;case 16:case"end":return a.stop()}}),a,null,[[3,13]])})))()},loadMessageData:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.messageTable.loading){t.next=2;break}return t.abrupt("return");case 2:if(3!=e.messageTable.loadCount){t.next=7;break}return e.messageTable.append=!0,t.abrupt("return");case 7:return clearInterval(e.messageTable.timer),t.prev=8,e.messageTable.loading=!0,t.next=12,e.getMessageData(10*(e.messageTable.loadCount+1));case 12:e.messageTable.loadCount++,e.messageTable.loading=!1,e.initMesTimer(),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](8),t.t0&&(e.messageTable.loading=!1);case 20:case"end":return t.stop()}}),t,null,[[8,17]])})))()}},watch:{latestBlockHeight:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e.loadCount){t.next=2;break}return t.abrupt("return");case 2:return clearInterval(e.messageTable.timer),t.next=5,e.getMessageData(10*e.messageTable.loadCount);case 5:e.initMesTimer();case 6:case"end":return t.stop()}}),t)})))()}},computed:Object(c["a"])({},Object(d["c"])(["rate"])),beforeDestroy:function(){clearInterval(this.messageTable.timer)}},se=oe,ce=(a("dcd7"),Object(B["a"])(se,re,ie,!1,null,"30bc12cf",null)),le=ce.exports,ue={name:"Home",data:function(){return{option:{}}},components:Object(c["a"])({},n),methods:{handleHashChange:function(e){this.goTo("tipset",{query:{hash:e}})},handleHeightChange:function(e){this.goTo("tipset",{query:{height:e}})}}},me=ue,ge=(a("09a0"),Object(B["a"])(me,o,s,!1,null,"185c4423",null));t["default"]=ge.exports},c414:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAAyCAMAAAC0wLNOAAAA5FBMVEUSGiYsKTKscG3nkIfuk4r/nZL/n5T/oJX/oZb/oZf/opj/o5j/o5n/pJr/pZv/ppz/pp3/p53/qJ7/qZ//qqD/q6L/raP/saj/sqn/sqr/tKv/taz/t6//ubH/ubL/urP/vLT/vrf/v7j/wbr/wrv/xL3/xL7/xb//x8H/ycP/ysT/zMf/zcf/zsj/0sz/087/2NT/3dr/3tr/39v/4d7/4t//4+D/5OH/6OX/6eb/6+n/7ev/7+3/8O7/8O//8e//8vH/8/L/9PP/9fT/9/b/+Pf/+fn/+vr//Pz//f3//v7///+NgaKKAAABR0lEQVRYw+3ZWVPCMBQF4LTlIIi41LigBVFxqwvUXVFBEIWe//9/fGjqDIy+ONNyH3Kekt5m8j10JplepRzXw9zjuY5STgEiUnCUCyFxlSeF4imIiaVYiqVYiqVYyq8pab2Ujte1D2BN6/RBWetFoKR1ZWpBJRtKk+yXzfiTAwBdTtLiIXkKNMlwakGYGYUdORQ25FCGVSGUN/JaCOXijjyQQTlfGXG0KoOCffJeCAUReSyEUh3yS8ugoEE+Gsoz47TYIk9yp6BDhgklIn1TvCSD/CnlPscTDpL990zxlvTzp2A3JjkAEJDdIgBgJ+Y75kBB21AQkb1WbSO4GpP15JWbI5P6zCwbysKLoSy/Mk3755gyeZiZZUPBVvKtAMWzD5KMn2rIk/JHqtuNzaK9ZluKpViKpVjKvyiCfqwLajcIasLIaU19A6xT8WCufxMPAAAAAElFTkSuQmCC"},dac9:function(e,t,a){},dcd7:function(e,t,a){"use strict";var n=a("7ea1"),r=a.n(n);r.a},e0a7:function(e,t,a){},f0da:function(e,t,a){"use strict";var n=a("1e64"),r=a.n(n);r.a},fc0c:function(e,t,a){"use strict";var n=a("32e3"),r=a.n(n);r.a},fcf9:function(e,t,a){"use strict";var n=a("dac9"),r=a.n(n);r.a}}]);
//# sourceMappingURL=Home.57a71fa2.js.map