(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Tipset"],{"085d0":function(t,e,a){"use strict";var i=a("e43c"),n=a.n(i);n.a},"63af":function(t,e,a){},"9f15":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tipset"},[t.hash||t.height?a("block-detail",{attrs:{hash:t.hash,height:t.height,block:t.currentBlock}}):t._e()],1)},n=[],s=(a("4de4"),a("4160"),a("d81d"),a("a9e3"),a("ac1f"),a("5319"),a("159b"),a("2909")),c=a("5530"),h=(a("96cf"),a("1da1")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-detail bottom-10 top-20"},[a("div",{staticClass:"block-overview"},[a("overview",{attrs:{dataList:t.realList,block_type:t.getBlockType,dataLabel:t.$t("tipset.block.overview")}})],1),a("message-list",{attrs:{withType:!1,type:t.type,cid:t.hash}})],1)},r=[],l={name:"BlockDetail",props:{hash:{type:String,default:""},block:{type:Object,default:function(){return{}}},type:{type:String,default:"transaction"}},data:function(){return{dataList:[{key:"block_type"},{key:"hash",style:{fontWeight:"bold"}},{key:"height"}]}},mounted:function(){},computed:{realList:function(){var t=this.block;return console.log("currentBlock:",t),this.dataList.map((function(e){var a;return a="height"===e.key?[t[e.key]]:t[e.key],Object(c["a"])({},e,{value:t[e.key],linkList:a})}))},getBlockType:function(){return this.block_type}}},u=l,k=(a("fdb2"),a("2877")),d=Object(k["a"])(u,o,r,!1,null,"3448f995",null),b=d.exports,p=a("d282"),g=a("2f62"),f={name:"Tipset",data:function(){return{hash:"",height:0,value:0,blocks:[],block:{},block_type:"Block",dataList:[{key:"height",isLink:!0,target:"tipset"},{key:"hash"},{key:"timestamp"},{key:"size"},{key:"mesLength"},{key:"miner",target:"address/account",isLink:!0},{key:"reward"},{key:"parents",isLink:!0,target:"tipset",paramKey:"hash"},{key:"parent_weight"},{key:"tickets"},{key:"state_root"}],columns:[{key:"hash",isLink:!0,target:"tipset",ellipsis:!0},{key:"timestamp"},{key:"mesLength"},{key:"size",unit:"bytes"},{key:"miner",isLink:!0,target:"address/detail",paramKey:"address"},{key:"reward",unit:"FIL"}]}},watch:{"$route.query":{deep:!0,immediate:!0,handler:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function a(){var i,n,s,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log("block:",t),!t.hash){a.next=11;break}return e.hash=t.hash,a.next=5,Object(p["c"])(e.hash);case 5:return i=a.sent,i.data.resp.block&&(e.block=i.data.resp.block,e.block.block_type="Block"),a.next=9,Object(p["f"])(e.hash);case 9:n=a.sent,n.data.resp.chunk&&(e.block=n.data.resp.chunk,e.block.height=n.data.resp.chunk.height_created,e.block.hash=n.data.resp.chunk.chunk_hash,e.block.block_type="Chunk");case 11:if(!t.height){a.next=20;break}return e.height=t.height,s=t.height.replace(/,/g,""),a.next=16,Object(p["d"])(s);case 16:c=a.sent,console.log("datasN:",c),c.data.resp.header&&(e.block=c.data.resp.header,e.block.block_type="Block"),console.log("thisblock::",e.block);case 20:case"end":return a.stop()}}),a)})))()}}},components:{BlockDetail:b},computed:Object(c["a"])({},Object(g["c"])(["defaultHeight"]),{currentHeight:function(){return Number(this.height||this.defaultHeight)},currentBlockList:function(){var t=this;return this.height?this.blocks.filter((function(e){return e.height==t.formatNumber(t.height)})):this.blocks},currentBlock:function(){return console.log("sd--",this.block),this.block},mbBlockList:function(){var t={};return this.blocks.forEach((function(e){t[e.height]?t[e.height].push(e):t[e.height]=[e]})),t},mbColumns:function(){var t=Object(s["a"])(this.$t("component.blockList.label"));return t.shift(),this.columns.map((function(e,a){return Object(c["a"])({},e,{title:t[a]})}))}}),methods:{getBlocks:function(t){console.log("v:",t),this.blocks=t},handleHashChange:function(t){this.goTo("tipset",{query:{hash:t}})},handleHeightChange:function(t){this.goTo("tipset",{query:{height:t}})},handleValueChange:function(){this.height=this.value,this.goTo("tipset",{query:{height:this.value}})}}},y=f,m=(a("085d0"),Object(k["a"])(y,i,n,!1,null,"0e5cd3b5",null));e["default"]=m.exports},e43c:function(t,e,a){},fdb2:function(t,e,a){"use strict";var i=a("63af"),n=a.n(i);n.a}}]);
//# sourceMappingURL=Tipset.c1d61068.js.map